(this["webpackJsonpgame-of-life"]=this["webpackJsonpgame-of-life"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var o=n(2),a=n(3),r=n(5),l=n(4),i=n(6),c=n(0),s=n.n(c),u=n(8),d=n.n(u),g=(n(14),n(1)),f=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(r.a)(this,Object(l.a)(t).call(this))).state={cells:[],aliveCells:0,deadCells:0,generation:1,speed:25,isPlaying:!1,isDrawing:!1,isErasing:!1,inspecting:!1},e.getRandomNum=function(){return Math.floor(Math.random()*e.fullGrid)},e.createWorld=function(){for(var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=[],o=0;o<e.rows;o++){n[o]=[];for(var a=0;a<e.cols;a++)n[o][a]=!!t&&e.getRandomNum()>e.fullGrid-e.fullGrid/4}return n},e.createCells=function(){for(var t=[],n=0;n<e.rows;n++)for(var o=0;o<e.cols;o++)e.world[n][o]&&t.push({x:o,y:n});return t},e.getElemOffset=function(){var t=document.documentElement,n=e.worldRef.getBoundingClientRect();return{x:n.left+window.pageXOffset-t.clientLeft,y:n.top+window.pageYOffset-t.clientTop}},e.getMousePoint=function(t){var n=Object(g.a)(e).cellSize,o=e.getElemOffset(),a=t.clientX-o.x,r=t.clientY-o.y;return{x:Math.floor(a/n),y:Math.floor(r/n)}},e.handleMouseMove=function(t){var n=Object(g.a)(e),o=n.rows,a=n.cols,r=n.world,l=e.getMousePoint(t),i=l.x,c=l.y;i>=0&&i<=a&&c>=0&&c<=o&&e.state.isDrawing&&(e.state.isErasing?r[c][i]=!1:r[c][i]=!0,e.setState({cells:e.createCells()}))},e.handleMouseDown=function(t){var n=Object(g.a)(e),o=n.world,a=n.cols,r=n.rows,l=e.getMousePoint(t),i=l.x,c=l.y;e.setState({isDrawing:!0}),i>=0&&i<=a&&c>=0&&c<=r&&(e.state.isErasing?o[c][i]=!1:o[c][i]=!0,e.setState({cells:e.createCells()}))},e.handleTouchMove=function(){},e.handleMouseUp=function(){return e.setState({isDrawing:!1})},e.zoomOnScroll=function(e){console.log(window),console.log(e)},e.inspectCell=function(t){var n=e.getMousePoint(t);n.x,n.y;e.state.inspecting},e.toggleErasing=function(){return e.setState((function(e){return{isErasing:!e.isErasing}}))},e.toggleStart=function(){e.setState((function(e){return{isPlaying:!e.isPlaying}})),e.state.isPlaying?e.timeoutHandler&&(window.clearTimeout(e.timeoutHandler),e.timeoutHandler=null):e.nextGeneration()},e.checkNeighbours=function(t,n,o){for(var a=0,r=-1;r<=1;r++)for(var l=-1;l<=1;l++)if(0!==l||0!==r){var i=n+l,c=o+r;i>=0&&i<e.cols&&c>=0&&c<e.rows&&t[c][i]&&a++}return a},e.nextGeneration=function(){for(var t=e.createWorld(),n=0;n<e.rows;n++)for(var o=0;o<e.cols;o++){var a=e.checkNeighbours(e.world,o,n);e.world[n][o]?t[n][o]=2===a||3===a:e.world[n][o]||3!==a||(t[n][o]=!0)}e.world=t,e.setState({cells:e.createCells()}),e.setState((function(e){e.generation++})),e.timeoutHandler=window.setTimeout((function(){return e.nextGeneration()}),e.state.speed)},e.handleSpeed=function(t){e.setState({speed:t})},e.clearWorld=function(){window.clearTimeout(e.timeoutHandler),e.timeoutHandler=null,e.setState({generation:1,isPlaying:!1,isErasing:!1,cells:[]}),e.world=e.createWorld()},e.zoomOut=function(){},e.randomisePattern=function(){e.world=e.createWorld(!0),e.setState({cells:e.createCells()})},e.width=800,e.height=600,e.cellSize=10,e.cols=e.width/e.cellSize,e.rows=e.height/e.cellSize,e.fullGrid=e.cols*e.rows,e.world=e.createWorld(),e}return Object(i.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this,t=this.width,n=this.height,o=this.cellSize,a=this.state.cells;return s.a.createElement(c.Fragment,null,s.a.createElement("div",{id:"world",onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseUp,onTouchMove:this.handleMouseDown,onClick:this.inspectCell,onScroll:this.zoomOnScroll,ref:function(t){e.worldRef=t},style:{width:t,height:n,backgroundSize:"".concat(o,"px ").concat(o,"px")}},a.map((function(t){return s.a.createElement(h,{x:t.x,y:t.y,size:o,gen:e.state.generation,key:"".concat(t.x,", ").concat(t.y)})}))),s.a.createElement("button",{onClick:this.toggleStart}," ",this.state.isPlaying?"Stop":"Start"," "),s.a.createElement("button",{onClick:this.toggleErasing}," ",this.state.isErasing?"Draw":"Erase"," "),s.a.createElement("button",{onClick:this.clearWorld}," Clear "),s.a.createElement("button",{onClick:this.randomisePattern}," Randomise "),s.a.createElement("button",{onClick:this.zoomOut,disabled:!0}," Change Size "),s.a.createElement("button",{disabled:!0}," Inspect Cell "))}}]),t}(c.Component),h=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(n=Object(r.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(i)))).state={born:0,age:0},n.ageColors=function(){var e=n.state.age;return e>5?"cell--old":e>=3&&e<=5?"cell--middle":e<=2?"cell--young":void 0},n.calcAge=function(){return n.props.gen-n.state.born},n.componentDidMount=function(){n.setState({born:n.props.gen}),n.setState({age:1})},n.componentDidUpdate=function(e){e.gen!==n.props.gen&&n.setState({age:n.calcAge()})},n}return Object(i.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.x,n=e.y,o=e.size;return s.a.createElement(c.Fragment,null,s.a.createElement("div",{className:"cell ".concat(this.ageColors()),style:{left:"".concat(o*t+1,"px"),top:"".concat(o*n+1,"px"),width:"".concat(o-1,"px"),height:"".concat(o-1,"px")}}))}}]),t}(c.Component),m=function(e){function t(){return Object(o.a)(this,t),Object(r.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){return s.a.createElement(c.Fragment,null,s.a.createElement(f,null))}}]),t}(c.Component);d.a.render(s.a.createElement(m,null),document.getElementById("root"))},9:function(e,t,n){e.exports=n(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.c9e70e7c.chunk.js.map